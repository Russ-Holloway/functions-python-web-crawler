â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   PHASE 1 DEPLOYMENT - QUICK START                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ DEPLOYMENT PACKAGE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
File:     phase1-deployment.zip
Size:     22.8 KB
Location: functions-python-web-crawler/functions-python-web-crawler/
Status:   âœ… READY TO DEPLOY

ğŸš€ DEPLOYMENT COMMANDS (Copy & Paste into Azure CLI Bash)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# 1. Set your Azure resource details (from AZURE_RESOURCE_REFERENCE.md)
RESOURCE_GROUP="rg-btp-uks-prod-doc-mon-01"
FUNCTION_APP="func-btp-uks-prod-doc-crawler-01"
SUBSCRIPTION="96726562-1726-4984-88c6-2e4f28878873"
ZIP_FILE="phase1-deployment.zip"

# 2. Deploy to Azure
az functionapp deployment source config-zip \
  --resource-group $RESOURCE_GROUP \
  --name $FUNCTION_APP \
  --subscription $SUBSCRIPTION \
  --src $ZIP_FILE

# 3. Restart function app
az functionapp restart \
  --resource-group $RESOURCE_GROUP \
  --name $FUNCTION_APP

# 4. Stream logs to verify
az functionapp log tail \
  --resource-group $RESOURCE_GROUP \
  --name $FUNCTION_APP

âœ… VERIFICATION COMMANDS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# Check storage document count
STORAGE_ACCOUNT="stbtpuksprodcrawler01"
CONTAINER="documents"

az storage blob list \
  --account-name $STORAGE_ACCOUNT \
  --container-name $CONTAINER \
  --auth-mode login \
  --query "length([?name!='document-hashes.json' && name!='crawl_history.json'])" \
  --output tsv

# View dashboard
echo "https://$FUNCTION_APP.azurewebsites.net/api/dashboard"

ğŸ“Š WHAT TO LOOK FOR AFTER DEPLOYMENT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Logs show: "âœ… Uploaded uk-legislation/a1b2c3d4_data.pdf (original: data.pdf)"
âœ… Storage count MATCHES "Documents Uploaded" in dashboard
âœ… Virtual folders created in storage (college-of-policing/, cps/, etc.)
âœ… No "filename collision" warnings
âœ… Function app status: Running

âš ï¸  EXPECTED FIRST RUN BEHAVIOR
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â€¢ First crawl may mark all documents as "new"
â€¢ Storage will reorganize into folder structure
â€¢ Document count will increase from 281 to actual count
â€¢ This is EXPECTED and CORRECT âœ…

ğŸ¯ SUCCESS CRITERIA
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Documents Uploaded (dashboard) = Total Documents (storage) âœ…

BEFORE:  2,810 uploaded â†’ 281 in storage (90% LOSS) âŒ
AFTER:   Y uploaded â†’ Y in storage (100% MATCH) âœ…

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Phase 1 Complete | Ready to Deploy | Zero Data Loss Expected
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
